{% extends "base.html" %}

{% block title %}Register Visitor - Visitor Management System{% endblock %}

{% block content %}
<div class="{% if session.logged_in %}content-with-sidebar{% else %}centered-container{% endif %}">
    <div class="glass-pad">
        <div class="page-header" style="border-bottom: 1px solid rgba(217, 119, 87, 0.1); padding-bottom: 1.5rem; margin-bottom: 2rem;">
            <div>
                <h1 style="font-size: 2rem; font-weight: 700; color: #1e293b; letter-spacing: -0.5px;">
                    <i class="bi bi-person-plus" style="color: #d97757; margin-right: 0.5rem;"></i>
                    Visitor Registration
                </h1>
                <p style="color: #64748b; margin-top: 0.5rem;">
                    Fill in all the required information to register a new visitor
                </p>
            </div>
        </div>

        <form method="POST" action="{{ url_for('register') }}">
            <div class="form-section">
                <div class="section-header">VISITOR DETAILS</div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="name" class="form-label">
                            Visitor Name <span class="required">*</span>
                        </label>
                        <input type="text" 
                               class="form-control" 
                               id="name" 
                               name="name" 
                               placeholder="Enter visitor's full name" 
                               required>
                    </div>

                    <div class="form-group">
                        <label for="contact" class="form-label">
                            Contact Number <span class="required">*</span>
                        </label>
                        <input type="tel" 
                               class="form-control" 
                               id="contact" 
                               name="contact" 
                               pattern="[0-9]{10,15}" 
                               placeholder="10-15 digits" 
                               required>
                        <small style="color: #64748b; font-size: 0.8rem; margin-top: 0.25rem; display: block;">
                            Enter 10-15 digits
                        </small>
                    </div>

                    <div class="form-group">
                        <label for="id_proof" class="form-label">
                            ID Proof <span class="required">*</span>
                        </label>
                        <input type="text" 
                               class="form-control" 
                               id="id_proof" 
                               name="id_proof" 
                               placeholder="Aadhar, PAN, Driving License, etc." 
                               required>
                    </div>

                    <div class="form-group">
                        <label for="person_to_meet" class="form-label">
                            Person to Meet <span class="required">*</span>
                        </label>
                        <input type="text" 
                               class="form-control" 
                               id="person_to_meet" 
                               name="person_to_meet" 
                               placeholder="Name of the person to meet" 
                               required>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <div class="section-header">PURPOSE OF VISIT</div>
                <div class="form-group">
                    <label for="purpose" class="form-label">
                        Purpose <span class="required">*</span>
                    </label>
                    <textarea class="form-control" 
                              id="purpose" 
                              name="purpose" 
                              rows="4" 
                              placeholder="Describe the purpose of visit..." 
                              required></textarea>
                </div>
            </div>

            <div style="margin-top: 2.5rem; padding-top: 2rem; border-top: 1px solid rgba(217, 119, 87, 0.1);">
                <button type="submit" class="btn btn-primary btn-large btn-full">
                    <i class="bi bi-check-circle"></i>
                    <span>Check-In Visitor</span>
                </button>
                {% if session.logged_in %}
                <a href="{{ url_for('dashboard') }}" class="btn btn-outline" style="margin-top: 1rem; width: 100%;">
                    <i class="bi bi-arrow-left"></i>
                    <span>Back to Dashboard</span>
                </a>
                {% else %}
                <a href="{{ url_for('login') }}" class="btn btn-outline" style="margin-top: 1rem; width: 100%;">
                    <i class="bi bi-box-arrow-in-right"></i>
                    <span>Admin Login</span>
                </a>
                {% endif %}
            </div>
        </form>
    </div>
</div>
{% endblock %}
